<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@forman2/extendit</title><meta name="description" content="Documentation for @forman2/extendit"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@forman2/extendit</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>@forman2/extendit</h2></div>
<div class="tsd-panel tsd-typography"><p><a href="https://github.com/forman/extendit/actions/workflows/node.js.yml"><img src="https://github.com/forman/extendit/actions/workflows/node.js.yml/badge.svg" alt="CI"></a>
<a href="https://mit-license.org/"><img src="https://badgen.net/static/license/MIT/blue" alt="License: MIT"></a>
<a href="https://www.typescriptlang.org/"><img src="https://badgen.net/npm/types/tslib" alt=""></a>
<a href="https://github.com/prettier/prettier"><img src="https://img.shields.io/badge/code_style-prettier-ff69b4.svg" alt="Code Style: Prettier"></a>
<img src="https://img.shields.io/npm/v/%40forman2/extendit" alt="npm"></p>
<p><img src="logo.png" alt="image"></p>
<p>ExtendIt.js is a framework and library that is used to create extensible and
scalable JavaScript applications. Its 
<a href="https://forman.github.io/extendit/modules/core.html">core API</a> 
design is largely inspired by 
the <a href="https://code.visualstudio.com/api">Extension API</a>
of <a href="https://code.visualstudio.com/">Visual Studio Code</a>.</p>
<p>ExtendIt.js provides the means for a host application to dynamically
import JavaScript modules - <em>extensions</em> - that add new features and 
capabilities to the application.</p>
<p>ExtendIt.js has been designed to efficiently work with 
<a href="https://react.dev/">React</a>, for this purpose it provides a number of reactive 
<a href="https://react.dev/reference/react/hooks">React hooks</a>. 
However, the library can be used without 
React too. It&#39;s only a peer dependency.</p>
<a id="md:installation" class="tsd-anchor"></a><h1><a href="#md:installation">Installation</a></h1><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@forman2/extendit</span>
</code><button>Copy</button></pre>
<p>or </p>
<pre><code class="language-bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@forman2/extendit</span>
</code><button>Copy</button></pre>
<a id="md:getting-started" class="tsd-anchor"></a><h1><a href="#md:getting-started">Getting Started</a></h1><p>Any extension must be defined by its 
<a href="https://forman.github.io/extendit/interfaces/core.ExtensionManifest.html"><em>extension manifest</em></a>, 
which is basically a slightly enhanced 
<a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json"><code>package.json</code></a>.  </p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-extension&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;provider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-company&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;init&quot;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The <code>main</code> field is optional. If you provide it as above, it means you 
provide an 
<a href="https://forman.github.io/extendit/interfaces/core.ExtensionModule.html"><em>extension activator</em></a> 
in a submodule named <code>init</code> which defines an <code>activate()</code> 
function that is called if your extension is activated by the host 
application:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">SomeAppApi</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;some-app/api&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">activate</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-7">// Use the SomeAppApi here, e.g., </span><br/><span class="hl-1">  </span><span class="hl-7">// register your contributions to the app</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The activator may also export an extension-specific API for other extensions</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">MyApi</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./api&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">activate</span><span class="hl-1">(): </span><span class="hl-8">MyApi</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyApi</span><span class="hl-1">({ ... });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Hence, another dependent extension such as</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;other-extension&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;provider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;other-company&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;main&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;init&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;dependencies&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;@my-company/my-extension&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0.0&quot;</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>may consume it in its own <code>init.ts</code></p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">ExtensionContext</span><span class="hl-1">, </span><span class="hl-5">getExtension</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">MyApi</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@my-company/my-extension&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">activate</span><span class="hl-1">(</span><span class="hl-5">ctx</span><span class="hl-1">: </span><span class="hl-8">ExtensionContext</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">myExtension</span><span class="hl-1"> = </span><span class="hl-0">getExtension</span><span class="hl-1">(</span><span class="hl-2">&quot;my-company.my-extension&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">myApi</span><span class="hl-1"> = </span><span class="hl-5">myExtension</span><span class="hl-1">.</span><span class="hl-5">exports</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-8">MyApi</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">// Use imported extension API here, e.g., to add some contribution</span><br/><span class="hl-1">  </span><span class="hl-5">myApi</span><span class="hl-1">.</span><span class="hl-0">registerViewProvider</span><span class="hl-1">({ ... });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The host application registers extensions using the 
<a href="https://forman.github.io/extendit/functions/core.readExtensionManifest.html"><code>readExtensionManifest</code></a>
and
<a href="https://forman.github.io/extendit/functions/core.registerExtension.html"><code>registerExtension</code></a>
functions:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">readExtensionManifest</span><span class="hl-1">, </span><span class="hl-5">registerExtension</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">initApp</span><span class="hl-1">() {</span><br/><span class="hl-1">   </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">extensionsUrls</span><span class="hl-1"> = </span><span class="hl-0">getAppExtensionUrls</span><span class="hl-1">();</span><br/><span class="hl-1">   </span><span class="hl-5">extensionUrls</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">extensionUrl</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">     </span><span class="hl-0">readExtensionManifest</span><span class="hl-1">(</span><span class="hl-5">extensionUrl</span><span class="hl-1">)</span><br/><span class="hl-1">     .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-5">manifest</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><br/><span class="hl-1">       </span><span class="hl-0">registerExtension</span><span class="hl-1">(</span><span class="hl-5">manifest</span><span class="hl-1">)</span><br/><span class="hl-1">     )</span><br/><span class="hl-1">     .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-5">error</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">       </span><span class="hl-7">// ...</span><br/><span class="hl-1">     });</span><br/><span class="hl-1">   });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">getAppExtensionUrls</span><span class="hl-1">(): </span><span class="hl-8">URL</span><span class="hl-1">[] {</span><br/><span class="hl-1">  </span><span class="hl-7">// ...</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The host application (or an extension) can also define handy 
<a href="https://forman.github.io/extendit/interfaces/core.ContributionPoint.html"><em>contribution points</em></a>:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">registerContributionPoint</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">initApp</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-0">registerContributionPoint</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&quot;wiseSayings&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">manifestInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">schema:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;array&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">items:</span><span class="hl-1"> {</span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;string&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Extensions can provide contributions to defined contribution points. 
Contributions are encoded in the <code>contributes</code> value of an extension&#39;s 
<code>package.json</code>:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-extension&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;provider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-company&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-3">&quot;contributes&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;wiseSayings&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">         </span><span class="hl-2">&quot;Silence is a true friend who never betrays.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">         </span><span class="hl-2">&quot;Use your head to save your feet.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">         </span><span class="hl-2">&quot;Before Alice went to Wonderland, she had to fall.&quot;</span><br/><span class="hl-1">      ]</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>A consumer can access a current snapshot of all contributions
found in the application using the 
<a href="https://forman.github.io/extendit/functions/core.getContributions.html"><code>getContributions</code></a> 
function:</p>
<pre><code class="language-ts"><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">wiseSayings</span><span class="hl-1"> = </span><span class="hl-0">getContributions</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">[]&gt;(</span><span class="hl-2">&quot;wiseSayings&quot;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>The return value will be the <em>same</em> value, as long as no other extensions are
installed that contribute to the contribution point <code>wiseSayings</code>. If this 
happens, a new snapshot value will be returned.</p>
<p>If you are building a React application, you can use the 
<a href="https://forman.github.io/extendit/modules/react.html">provided React hooks</a> 
in <code>@forman2/extend-me/react</code> for accessing contributions (and other elements 
of the ExtendMe.js API) in a reactive way:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useContributions</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extend-me/react&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">WiseSayingsComponent</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">wiseSayings</span><span class="hl-1"> = </span><span class="hl-0">useContributions</span><span class="hl-1">(</span><span class="hl-2">&quot;wiseSayings&quot;</span><span class="hl-1">);   </span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">      </span><span class="hl-10">&lt;</span><span class="hl-11">h4</span><span class="hl-10">&gt;</span><span class="hl-1">Wise Sayings:</span><span class="hl-10">&lt;/</span><span class="hl-11">h4</span><span class="hl-10">&gt;</span><br/><span class="hl-1">      </span><span class="hl-10">&lt;</span><span class="hl-11">ol</span><span class="hl-10">&gt;</span><span class="hl-6">{</span><span class="hl-12"> </span><span class="hl-5">wiseSayings</span><span class="hl-12">.</span><span class="hl-0">map</span><span class="hl-12">((</span><span class="hl-5">wiseSaying</span><span class="hl-12">) </span><span class="hl-6">=&gt;</span><span class="hl-12"> </span><span class="hl-10">&lt;</span><span class="hl-11">li</span><span class="hl-10">&gt;</span><span class="hl-6">{</span><span class="hl-5">wiseSaying</span><span class="hl-6">}</span><span class="hl-10">&lt;/</span><span class="hl-11">li</span><span class="hl-10">&gt;</span><span class="hl-12">) </span><span class="hl-6">}</span><span class="hl-10">&lt;/</span><span class="hl-11">ol</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The component will be re-rendered if more contributions are added to the 
contribution point.</p>
<p>A contribution may be fully specified by the JSON data in the 
<code>contributes</code> object in <code>package.json</code>. It may also require JavaScript to be 
loaded and executed. Examples are commands or UI components that are rendered
by React or another UI library. The following contribution point also 
defined <code>codeInfo</code> to express its need of JavaScript code: </p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">registerCodeContribution</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">activate</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-0">registerContributionPoint</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&quot;commands&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">manifestInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">schema:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;array&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">items:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;object&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">properties:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">id:</span><span class="hl-1"> {</span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;string&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">            </span><span class="hl-5">title:</span><span class="hl-1"> {</span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;string&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">codeInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">idKey:</span><span class="hl-1"> </span><span class="hl-2">&quot;id&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">activationEvent:</span><span class="hl-1"> </span><span class="hl-2">&quot;onCommand:${id}&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The entry <code>activationEvent</code> causes the framework to fire an event of the form
<code>&quot;onCommand:${id}&quot;</code> if the code contribution with the given <code>&quot;id&quot;</code> is 
requested. In turn, any extension that listens for the fired event will be 
activated.</p>
<p>Here is an extension that provide the following JSON contribution to the 
defined contribution point <code>commands</code> in its <code>package.json</code></p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;contributes&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;commands&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openMapView&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;title&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Open Map View&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>and also defines the corresponding JavaScript code contribution in its 
activator:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">registerCodeContribition</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">openMapView</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./map-view&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">activate</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-0">registerCodeContribition</span><span class="hl-1">(</span><span class="hl-2">&quot;commands&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;openMapView&quot;</span><span class="hl-1">, </span><span class="hl-5">openMapView</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Such code contributions are loaded lazily. Only the first time a
code contribution is needed by a consumer, the contributing extension will be
activated.</p>
<p>Therefore, code contributions are loaded asynchronously using the 
<a href="https://forman.github.io/extendit/functions/core.loadCodeContribution.html"><code>loadCodeContribution</code></a>
function:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">loadCodeContribution</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">Command</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./command&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">getCommand</span><span class="hl-1">(</span><span class="hl-5">commandId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">Command</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">loadCodeContribution</span><span class="hl-1">&lt;</span><span class="hl-8">Command</span><span class="hl-1">&gt;(</span><span class="hl-2">&quot;commands&quot;</span><span class="hl-1">, </span><span class="hl-5">commandId</span><span class="hl-1">);</span><br/><span class="hl-1">}  </span>
</code><button>Copy</button></pre>
<p>There is also a corresponding React hook 
<a href="https://forman.github.io/extendit/functions/react.useLoadCodeContribution.html"><code>useLoadCodeContribution</code></a>
that is used for implementing React components:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useLoadCodeContribution</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@forman2/extendit/react&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-4">type</span><span class="hl-1"> </span><span class="hl-5">Command</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./command&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-8">CommandButtonProps</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">command</span><span class="hl-1">: </span><span class="hl-8">Command</span><span class="hl-1">;  </span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-4">default</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">CommandButton</span><span class="hl-1">({ </span><span class="hl-5">command</span><span class="hl-1"> }: </span><span class="hl-8">CommandButtonProps</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-9">commandCode</span><span class="hl-1"> = </span><span class="hl-0">useLoadCodeContribution</span><span class="hl-1">(</span><span class="hl-2">&quot;commands&quot;</span><span class="hl-1">, </span><span class="hl-5">command</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">button</span><br/><span class="hl-1">      </span><span class="hl-13">onClick</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-5">commandCode</span><span class="hl-12">.</span><span class="hl-5">data</span><span class="hl-6">}</span><br/><span class="hl-1">      </span><span class="hl-13">disabled</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-5">commandCode</span><span class="hl-12">.</span><span class="hl-5">loading</span><span class="hl-12"> </span><span class="hl-1">||</span><span class="hl-12"> </span><span class="hl-5">commandCode</span><span class="hl-12">.</span><span class="hl-5">error</span><span class="hl-6">}</span><span class="hl-1">      </span><br/><span class="hl-1">    </span><span class="hl-10">&gt;</span><br/><span class="hl-1">      </span><span class="hl-6">{</span><span class="hl-5">command</span><span class="hl-12">.</span><span class="hl-5">title</span><span class="hl-6">}</span><span class="hl-1"> </span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">button</span><span class="hl-10">&gt;</span><br/><span class="hl-1">  );    </span><br/><span class="hl-1">}  </span>
</code><button>Copy</button></pre>
<a id="md:documentation" class="tsd-anchor"></a><h1><a href="#md:documentation">Documentation</a></h1><p>We currently only have this file and the 
<a href="https://forman.github.io/extendit/">API docs</a>, sorry.</p>
<a id="md:development" class="tsd-anchor"></a><h1><a href="#md:development">Development</a></h1><a id="md:source-code" class="tsd-anchor"></a><h2><a href="#md:source-code">Source Code</a></h2><p>Get sources and install dependencies first:</p>
<pre><code class="language-bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/forman/extendit</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">cd</span><span class="hl-1"> </span><span class="hl-2">extendit</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">npm</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button>Copy</button></pre>
<a id="md:scripts" class="tsd-anchor"></a><h2><a href="#md:scripts">Scripts</a></h2><p>Now the following scripts are available that can be started with <code>npm run</code>:</p>
<ul>
<li><code>dev</code> - run the <strong>React Demo</strong> in development mode</li>
<li><code>build</code> - build the library, outputs to <code>./dist</code></li>
<li><code>lint</code> - run <code>eslint</code> on project sources</li>
<li><code>test</code> - run project unit tests</li>
<li><code>coverage</code> - generate project coverage report in <code>./coverage</code></li>
<li><code>typedoc</code> - generate project API docs in <code>./docs</code></li>
</ul>
<a id="md:configuration" class="tsd-anchor"></a><h2><a href="#md:configuration">Configuration</a></h2><p>You can use <code>.env</code> files, e.g., <code>.env.local</code> to configure development options:</p>
<pre><code class="language-sh"><span class="hl-7"># As `vite build` runs a production build by default, you can</span><br/><span class="hl-7"># change this and run a development build by using a different mode</span><br/><span class="hl-7"># and `.env` file configuration:</span><br/><span class="hl-5">NODE_ENV</span><span class="hl-1">=</span><span class="hl-2">development</span><br/><br/><span class="hl-7"># Set the library&#39;s log level (ALL, DEBUG, INFO, WARN, ERROR, OFF)</span><br/><span class="hl-7"># Logging is OFF by default.</span><br/><span class="hl-5">VITE_LOG_LEVEL</span><span class="hl-1">=</span><span class="hl-2">ALL</span>
</code><button>Copy</button></pre>
<a id="md:coding-style" class="tsd-anchor"></a><h2><a href="#md:coding-style">Coding style</a></h2><p>Most of the code is formatted to default settings of
<a href="https://prettier.io/">prettier</a>, see its <a href="./.prettierrc.json">configuration</a>.
Since <code>prettier</code> is un-opinionated regarding the order of imports, we try to 
stick to the following order: </p>
<ol>
<li>React dependencies</li>
<li>Other 3rd party dependencies</li>
<li>Dependencies on our own packages</li>
<li>Dependencies on our own modules higher up in the hierarchy 
using source prefix <code>@</code></li>
<li>Dependencies on submodules that are in the same module folder 
further down the hierarchy using source prefix <code>./</code></li>
</ol>
<p>If we also have resource dependencies (<code>*.css</code>, <code>*.json</code>, <code>*.svg</code>, ...), 
we first import TypeScript source dependencies, then separated by a 
newline, insert resource dependencies in the same order as source dependencies.</p>
<a id="md:acknowledgements" class="tsd-anchor"></a><h1><a href="#md:acknowledgements">Acknowledgements</a></h1><p>ExtendIt.js currently uses the awesome libraries</p>
<ul>
<li><a href="https://ajv.js.org/">Ajv</a> for JSON validation (may be turned into peer dependency later)</li>
<li><a href="https://github.com/alexreardon/memoize-one">memoize-one</a> for implementing state selector functions</li>
<li><a href="https://github.com/pmndrs/zustand">zustand</a> for state management</li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h1><a href="#md:license">License</a></h1><p>Copyright © 2023 Norman Fomferra</p>
<p>Permissions are hereby granted under the terms of the MIT License:
<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>.</p>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)" id="icon-chevronDown"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:installation"><span>Installation</span></a></li>
<li><a href="#md:getting-started"><span>Getting <wbr/>Started</span></a></li>
<li><a href="#md:documentation"><span>Documentation</span></a></li>
<li><a href="#md:development"><span>Development</span></a></li>
<li>
<ul>
<li><a href="#md:source-code"><span>Source <wbr/>Code</span></a></li>
<li><a href="#md:scripts"><span>Scripts</span></a></li>
<li><a href="#md:configuration"><span>Configuration</span></a></li>
<li><a href="#md:coding-style"><span>Coding style</span></a></li></ul></li>
<li><a href="#md:acknowledgements"><span>Acknowledgements</span></a></li>
<li><a href="#md:license"><span>License</span></a></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g></svg><span>@forman2/extendit</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="modules/contrib.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>contrib</span></a></li>
<li><a href="modules/core.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>core</span></a></li>
<li><a href="modules/react.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>react</span></a></li>
<li><a href="modules/util.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>util</span></a></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" rel="noopener" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>